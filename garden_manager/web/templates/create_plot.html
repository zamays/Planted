{% extends "base.html" %}

{% block title %}Create Garden Plot - Planted{% endblock %}

{% block content %}
<div style="margin-bottom: 2rem;">
    <a href="{{ url_for('garden.index') }}" style="color: var(--primary-green); text-decoration: none; display: flex; align-items: center; gap: 0.5rem; font-weight: 500;">
        ‚Üê Back to Garden Layout
    </a>
</div>

<h2 style="margin-bottom: 1rem; color: var(--primary-green); font-size: 1.75rem;">‚ûï Create New Garden Plot</h2>
<p style="color: var(--text-gray); margin-bottom: 2rem; font-size: 1.05rem;">
    Design a new garden plot using the square-foot gardening method. Each square represents 1 square foot of garden space.
</p>

<div class="card">
    <div class="card-header">
        üå± Plot Details
    </div>
    <div class="card-body">
        <form method="POST" id="create-plot-form">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <div class="form-group">
                <label for="name">Plot Name <span style="color: #DC3545;">*</span></label>
                <input type="text" 
                       id="name" 
                       name="name" 
                       placeholder="e.g., Vegetable Garden, Herb Patch, Backyard Plot" 
                       required
                       minlength="1"
                       maxlength="100"
                       aria-required="true"
                       aria-describedby="name-hint">
                <span class="form-hint" id="name-hint">Give your plot a memorable name to help identify it</span>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1rem;">
                <div class="form-group">
                    <label for="width">Width (in squares) <span style="color: #DC3545;">*</span></label>
                    <input type="number" 
                           id="width" 
                           name="width" 
                           value="4" 
                           min="1" 
                           max="12" 
                           required
                           aria-required="true"
                           aria-describedby="width-hint">
                    <span class="form-hint" id="width-hint">Number of squares wide (1-12)</span>
                </div>
                
                <div class="form-group">
                    <label for="height">Height (in squares) <span style="color: #DC3545;">*</span></label>
                    <input type="number" 
                           id="height" 
                           name="height" 
                           value="4" 
                           min="1" 
                           max="12" 
                           required
                           aria-required="true"
                           aria-describedby="height-hint">
                    <span class="form-hint" id="height-hint">Number of squares tall (1-12)</span>
                </div>
            </div>
            
            <!-- Visual preview -->
            <div class="alert alert-info" style="margin-bottom: 1.5rem;">
                <span style="font-size: 1.5rem;">üìê</span>
                <div>
                    <strong>Your plot will be:</strong>
                    <div id="plot-preview" style="margin-top: 0.5rem; font-size: 1.1rem;">
                        <span id="preview-width">4</span> √ó <span id="preview-height">4</span> = 
                        <strong style="color: var(--primary-green);"><span id="preview-total">16</span> square feet</strong>
                    </div>
                    <div style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--text-gray);">
                        üí° Recommended: Start with 4√ó4 (16 sq ft) for beginners
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="location">Physical Location <span style="color: #DC3545;">*</span></label>
                <input type="text" 
                       id="location" 
                       name="location" 
                       placeholder="e.g., Backyard Corner, Front Porch, Side Yard" 
                       required
                       minlength="1"
                       maxlength="200"
                       aria-required="true"
                       aria-describedby="location-hint">
                <span class="form-hint" id="location-hint">Where is this plot physically located?</span>
            </div>

            <div class="form-group" style="margin-top: 2rem; padding: 1.25rem; background: rgba(74, 124, 89, 0.08); border-radius: var(--radius-sm); border: 2px solid var(--secondary-green);">
                <label style="display: flex; align-items: start; cursor: pointer; gap: 0.75rem;">
                    <input type="checkbox" 
                           id="add_plants" 
                           name="add_plants" 
                           value="yes" 
                           style="width: 20px; height: 20px; margin-top: 0.25rem; cursor: pointer; flex-shrink: 0;"
                           aria-describedby="add-plants-hint">
                    <div style="flex: 1;">
                        <span style="font-weight: 600; color: var(--primary-green); font-size: 1.05rem;">
                            üå± Start adding plants immediately
                        </span>
                        <span class="form-hint" id="add-plants-hint" style="display: block; margin-top: 0.5rem;">
                            After creating the plot, you'll be taken directly to the planting grid to add your first plants
                        </span>
                    </div>
                </label>
            </div>

            <div style="display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap;">
                <button type="submit" class="btn">
                    ‚úì Create Plot
                </button>
                <a href="{{ url_for('garden.index') }}" class="btn btn-secondary">
                    ‚úï Cancel
                </a>
            </div>
        </form>
    </div>
</div>

<!-- Help Card -->
<div class="card" style="margin-top: 2rem;">
    <div class="card-header">
        üí° Square-Foot Gardening Tips
    </div>
    <div class="card-body">
        <div style="display: grid; gap: 1.5rem;">
            <div>
                <h4 style="color: var(--primary-green); margin-bottom: 0.5rem; font-size: 1.1rem;">Recommended Sizes</h4>
                <ul style="margin-left: 1.5rem; line-height: 1.8; color: var(--text-gray);">
                    <li><strong>Beginner:</strong> 4√ó4 (16 sq ft) - Perfect for learning</li>
                    <li><strong>Small Family:</strong> 4√ó8 (32 sq ft) - Enough for regular harvests</li>
                    <li><strong>Large Garden:</strong> 8√ó8 (64 sq ft) - For serious gardeners</li>
                </ul>
            </div>
            <div>
                <h4 style="color: var(--primary-green); margin-bottom: 0.5rem; font-size: 1.1rem;">Best Practices</h4>
                <ul style="margin-left: 1.5rem; line-height: 1.8; color: var(--text-gray);">
                    <li>Keep plots no wider than 4 feet for easy reach from both sides</li>
                    <li>Create multiple smaller plots instead of one large plot</li>
                    <li>Leave walkways between plots for access</li>
                    <li>Consider sunlight exposure when choosing location</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/plot-preview.js') }}"></script>
{% endblock %}